{"ast":null,"code":"import _asyncToGenerator from \"/Users/jatinchouhan/Desktop/All Files/MERN_Project/FletNix/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/image.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../components/movie-card/movie-card.component\";\nfunction HomeComponent_app_movie_card_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-movie-card\", 23);\n  }\n  if (rf & 2) {\n    const movie_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"movie\", movie_r1);\n  }\n}\nexport class HomeComponent {\n  constructor(imageService) {\n    this.imageService = imageService;\n    this.productList = [];\n    this.selectedCategory = 'Movie';\n    this.token = \"\";\n    this.page = 1;\n    this.imageUrls = [];\n  }\n  ngOnInit() {\n    this.token = localStorage.getItem(\"token\");\n    this.getImageUrls();\n    this.getMovieList();\n  }\n  getImageUrls() {\n    this.imageService.getImageUrls().subscribe(urls => {\n      this.imageUrls = urls;\n    });\n  }\n  getMovieList() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield axios.get('https://flet-nix-backend.vercel.app/api/data/movies' + `?Page=${_this.page}`, {\n          headers: {\n            \"Authorization\": \"Bearer \" + _this.token\n          }\n        });\n        _this.productList = result.data.map(movie => ({\n          ...movie,\n          imageUrl: _this.imageService.getRandomImageUrl(_this.imageUrls)\n        }));\n      } catch (err) {\n        console.log(\"Error Fetching Movies\", err);\n      }\n    })();\n  }\n  onCategoryChange(event) {\n    this.selectedCategory = event.target.value;\n  }\n  static #_ = this.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ImageService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 38,\n    vars: 1,\n    consts: [[1, \"relative\", \"homePageMain\", \"flex\", \"size-full\", \"min-h-screen\", \"flex-col\", \"bg-black\", \"dark\", \"group/design-root\", \"overflow-x-hidden\", 2, \"font-family\", \"Inter, \\\"Noto Sans\\\", sans-serif\"], [1, \"layout-container\", \"flex\", \"h-full\", \"grow\", \"flex-col\"], [1, \"flex\", \"flex-1\", \"justify-center\", \"py-5\", \"px-2\"], [1, \"layout-content-container\", \"flex\", \"flex-col\", \"max-w-[960px]\", \"flex-1\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"justify-between\", \"gap-3\", \"p-4\", \"searchDiv\"], [1, \"text-[#FFFFFF]\", \"text-4xl\", \"font-black\", \"leading-tight\", \"tracking-[-0.033em]\", \"min-w-72\"], [1, \"flex\", \"items-center\", \"bg-black\", \"p-2\", \"rounded-xl\", \"shadow-lg\", \"hover:shadow-xl\", \"border\", \"border-gray-700\"], [1, \"flex\", \"items-center\", \"bg-black\", \"text-white\", \"border-r\", \"border-gray-700\", \"rounded-l-xl\"], [1, \"p-2\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"h-6\", \"w-6\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 1, \"bg-black\", \"text-white\", \"outline-none\", \"p-2\", \"min-w-64\", \"rounded-r-none\", \"border-none\"], [1, \"relative\"], [1, \"bg-black\", \"text-white\", \"font-semibold\", \"cursor-pointer\", \"border-l\", \"border-gray-700\", \"rounded-r-none\", \"p-2\", \"mr-2\", 3, \"change\"], [\"value\", \"Movie\"], [\"value\", \"Cast\"], [1, \"bg-red-600\", \"text-white\", \"font-semibold\", \"p-2\", \"rounded-r-xl\", \"hover:shadow-lg\", \"transition\", \"duration-300\", \"cursor-pointer\"], [1, \"p-2\", \"@container\"], [1, \"flex\", \"gap-3\", \"p-3\", \"flex-wrap\", \"pr-4\", \"navtabs\"], [1, \"flex\", \"h-8\", \"shrink-0\", \"items-center\", \"justify-center\", \"gap-x-2\", \"rounded-xl\", \"bg-[#333333]\", \"px-4\"], [1, \"text-[#FFFFFF]\", \"text-sm\", \"font-medium\", \"leading-normal\", \"m-0\"], [1, \"grid\", \"grid-cols-[repeat(auto-fit,minmax(158px,1fr))]\", \"gap-3\", \"p-4\"], [3, \"movie\", 4, \"ngFor\", \"ngForOf\"], [3, \"movie\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"p\", 5);\n        i0.ɵɵtext(6, \" Continue Watching \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(10, \"svg\", 9);\n        i0.ɵɵelement(11, \"path\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelement(12, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 12)(14, \"select\", 13);\n        i0.ɵɵlistener(\"change\", function HomeComponent_Template_select_change_14_listener($event) {\n          return ctx.onCategoryChange($event);\n        });\n        i0.ɵɵelementStart(15, \"option\", 14);\n        i0.ɵɵtext(16, \"Movie\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"option\", 15);\n        i0.ɵɵtext(18, \"Cast\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(19, \"div\", 16)(20, \"span\");\n        i0.ɵɵtext(21, \"Search\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(22, \"div\", 17);\n        i0.ɵɵelementStart(23, \"div\", 18)(24, \"div\", 19)(25, \"p\", 20);\n        i0.ɵɵtext(26, \"TV Shows\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 19)(28, \"p\", 20);\n        i0.ɵɵtext(29, \"Movies\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"div\", 19)(31, \"p\", 20);\n        i0.ɵɵtext(32, \"Documentaries\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 19)(34, \"p\", 20);\n        i0.ɵɵtext(35, \"All\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 21);\n        i0.ɵɵtemplate(37, HomeComponent_app_movie_card_37_Template, 1, 1, \"app-movie-card\", 22);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(37);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productList);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.MovieCardComponent],\n    styles: [\".navtabs[_ngcontent-%COMP%]{\\n}\\n\\n.searchDiv[_ngcontent-%COMP%]{\\n    margin-top: 24px;\\n    padding: 1rem !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0lBRUksZ0JBQWdCO0lBQ2hCLHdCQUF3QjtBQUM1QiIsImZpbGUiOiJob21lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmF2dGFic3tcbn1cblxuLnNlYXJjaERpdntcbiAgICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDtcbiAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgIHBhZGRpbmc6IDFyZW0gIWltcG9ydGFudDtcbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtJQUVJLGdCQUFnQjtJQUNoQix3QkFBd0I7QUFDNUI7QUFBQSxnYkFBZ2IiLCJzb3VyY2VzQ29udGVudCI6WyIubmF2dGFic3tcbn1cblxuLnNlYXJjaERpdntcbiAgICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDtcbiAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgIHBhZGRpbmc6IDFyZW0gIWltcG9ydGFudDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;;;;;;;;IC+EbC,qCAAmF;;;;IAAjCA,gCAAe;;;ADvE7E,OAAM,MAAOC,aAAa;EAOxBC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IANhC,gBAAW,GAAU,EAAE;IACvB,qBAAgB,GAAW,OAAO;IAClC,UAAK,GAAkB,EAAE;IACzB,SAAI,GAAW,CAAC;IAChB,cAAS,GAAU,EAAE;EAE4B;EAEjDC,QAAQ;IACN,IAAI,CAACC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC1C,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAD,YAAY;IACV,IAAI,CAACL,YAAY,CAACK,YAAY,EAAE,CAACE,SAAS,CAACC,IAAI,IAAG;MAChD,IAAI,CAACC,SAAS,GAAGD,IAAI;IACvB,CAAC,CAAC;EACJ;EAEMF,YAAY;IAAA;IAAA;MAChB,IAAI;QACF,MAAMI,MAAM,SAASd,KAAK,CAACe,GAAG,CAAC,qDAAqD,GAAG,SAAS,KAAI,CAACC,IAAI,EAAE,EAAE;UAC3GC,OAAO,EAAE;YACP,eAAe,EAAE,SAAS,GAAG,KAAI,CAACX;;SAErC,CAAC;QAEF,KAAI,CAACY,WAAW,GAAGJ,MAAM,CAACK,IAAI,CAACC,GAAG,CAAEC,KAAU,KAAM;UAClD,GAAGA,KAAK;UACRC,QAAQ,EAAE,KAAI,CAAClB,YAAY,CAACmB,iBAAiB,CAAC,KAAI,CAACV,SAAS;SAC7D,CAAC,CAAC;OACJ,CAAC,OAAOW,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,GAAG,CAAC;;IAC1C;EACH;EAEAG,gBAAgB,CAACC,KAAU;IACzB,IAAI,CAACC,gBAAgB,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK;EAC5C;EAAC;qBAxCU7B,aAAa;EAAA;EAAA;UAAbA,aAAa;IAAA8B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCYxBnC,8BAA+K;QAMnKA,mCACF;QAAAA,iBAAI;QACJA,8BAAwG;QAIlGA,mBAA8G;QAA9GA,+BAA8G;QAC5GA,4BAAwH;QAC1HA,iBAAM;QAERA,oBAIE;QAJFA,6BAIE;QACJA,iBAAM;QAGNA,gCAAsB;QAElBA;UAAA,OAAUoC,4BAAwB;QAAA,EAAC;QAGnCpC,mCAAsB;QAAAA,sBAAK;QAAAA,iBAAS;QACpCA,mCAAqB;QAAAA,qBAAI;QAAAA,iBAAS;QAKtCA,gCAAyH;QACjHA,uBAAM;QAAAA,iBAAO;QAMzBA,2BACM;QACNA,gCAAmD;QAEkBA,yBAAQ;QAAAA,iBAAI;QAE/EA,gCAAgG;QAC7BA,uBAAM;QAAAA,iBAAI;QAE7EA,gCAAgG;QAC7BA,8BAAa;QAAAA,iBAAI;QAEpFA,gCAAgG;QAC7BA,oBAAG;QAAAA,iBAAI;QAG5EA,gCAA2E;QACzEA,uFAAmF;QACrFA,iBAAM;;;QAD8BA,gBAAc;QAAdA,yCAAc","names":["axios","i0","HomeComponent","constructor","imageService","ngOnInit","token","localStorage","getItem","getImageUrls","getMovieList","subscribe","urls","imageUrls","result","get","page","headers","productList","data","map","movie","imageUrl","getRandomImageUrl","err","console","log","onCategoryChange","event","selectedCategory","target","value","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/jatinchouhan/Desktop/All Files/MERN_Project/FletNix/client/src/app/pages/home/home.component.ts","/Users/jatinchouhan/Desktop/All Files/MERN_Project/FletNix/client/src/app/pages/home/home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport axios from 'axios';\nimport { ImageService } from '../../services/image.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  productList: any[] = [];\n  selectedCategory: string = 'Movie';\n  token: string | null = \"\";\n  page: number = 1;\n  imageUrls: any[] = [];\n\n  constructor(private imageService: ImageService) {}\n\n  ngOnInit() {\n    this.token = localStorage.getItem(\"token\");\n    this.getImageUrls();\n    this.getMovieList();\n  }\n\n  getImageUrls() {\n    this.imageService.getImageUrls().subscribe(urls => {\n      this.imageUrls = urls;\n    });\n  }\n\n  async getMovieList() {\n    try {\n      const result = await axios.get('https://flet-nix-backend.vercel.app/api/data/movies' + `?Page=${this.page}`, {\n        headers: {\n          \"Authorization\": \"Bearer \" + this.token\n        }\n      });\n\n      this.productList = result.data.map((movie: any) => ({\n        ...movie,\n        imageUrl: this.imageService.getRandomImageUrl(this.imageUrls)\n      }));\n    } catch (err) {\n      console.log(\"Error Fetching Movies\", err);\n    }\n  }\n\n  onCategoryChange(event: any) {\n    this.selectedCategory = event.target.value;\n  }\n}\n","<!-- <table class=\"table table-bordered border-primary\">\n    <thead *ngIf=\"productList != null\">\n      <tr>\n        <th scope=\"col\">Id</th>\n        <th scope=\"col\">Title</th>\n        <th scope=\"col\">Description</th>\n        <th scope=\"col\">Price</th>\n        <th scope=\"col\">Category</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let product of productList\">\n        <th scope=\"row\"><a [routerLink]=\"['/product', product.id]\">{{product.id}}</a></th>\n        <td>{{product.title}}</td>\n        <td>{{product.description}}</td>\n        <td>{{product.price | currency}}</td>\n        <td>{{product.category}}</td>\n      </tr>\n    </tbody>\n  </table> -->\n\n  <div class=\"relative homePageMain flex size-full min-h-screen flex-col bg-black dark group/design-root overflow-x-hidden\" style='font-family: Inter, \"Noto Sans\", sans-serif;'>\n    <div class=\"layout-container flex h-full grow flex-col\">\n      <div class=\" flex flex-1 justify-center py-5 px-2\">\n        <div class=\"layout-content-container flex flex-col max-w-[960px] flex-1\">\n          <div class=\"flex flex-wrap items-center justify-between gap-3 p-4 searchDiv\">\n            <p class=\"text-[#FFFFFF] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72\">\n              Continue Watching\n            </p>\n            <div class=\"flex items-center bg-black p-2 rounded-xl shadow-lg hover:shadow-xl border border-gray-700\">\n              <!-- Search Icon and Input Field -->\n              <div class=\"flex items-center bg-black text-white border-r border-gray-700 rounded-l-xl\">\n                <div class=\"p-2\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </div>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  class=\"bg-black text-white outline-none p-2 min-w-64 rounded-r-none border-none\"\n                />\n              </div>\n            \n              <!-- Category Dropdown -->\n              <div class=\"relative\">\n                <select\n                  (change)=\"onCategoryChange($event)\"\n                  class=\"bg-black text-white font-semibold cursor-pointer border-l border-gray-700 rounded-r-none p-2 mr-2\"\n                >\n                  <option value=\"Movie\">Movie</option>\n                  <option value=\"Cast\">Cast</option>\n                </select>\n              </div>\n            \n              <!-- Search Button -->\n              <div class=\"bg-red-600 text-white font-semibold p-2 rounded-r-xl hover:shadow-lg transition duration-300 cursor-pointer\">\n                <span>Search</span>\n              </div>\n            </div>\n            \n          </div>\n          \n          <div class=\"p-2 @container\">\n          </div>\n          <div class=\"flex gap-3 p-3 flex-wrap pr-4 navtabs\">\n            <div class=\"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#333333] px-4\">\n              <p class=\"text-[#FFFFFF] text-sm font-medium leading-normal m-0\">TV Shows</p>\n            </div>\n            <div class=\"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#333333] px-4\">\n              <p class=\"text-[#FFFFFF] text-sm font-medium leading-normal m-0\">Movies</p>\n            </div>\n            <div class=\"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#333333] px-4\">\n              <p class=\"text-[#FFFFFF] text-sm font-medium leading-normal m-0\">Documentaries</p>\n            </div>\n            <div class=\"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#333333] px-4\">\n              <p class=\"text-[#FFFFFF] text-sm font-medium leading-normal m-0\">All</p>\n            </div>\n          </div>\n          <div class=\"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4\">\n            <app-movie-card *ngFor=\"let movie of productList\" [movie]=\"movie\"></app-movie-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}