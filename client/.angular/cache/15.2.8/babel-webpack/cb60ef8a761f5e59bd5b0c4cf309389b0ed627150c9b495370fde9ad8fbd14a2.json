{"ast":null,"code":"import _asyncToGenerator from \"/Users/jatinchouhan/Desktop/All Files/MERN_Project/FletNix/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport axios from 'axios';\nlet HomeComponent = class HomeComponent {\n  constructor() {\n    var _this = this;\n    this.productList = [];\n    this.selectedCategory = 'Movie';\n    this.token = \"\";\n    this.page = 1;\n    this.type = \"\";\n    // Array of image URLs\n    this.imageUrls = [\"https://cdn.usegalileo.ai/sdxl10/06b6c52a-e396-4d95-b2db-a5dc02b58334.png\", \"https://cdn.usegalileo.ai/sdxl10/b0284f49-8cec-4190-ab3b-c5cc49063775.png\", \"https://cdn.usegalileo.ai/sdxl10/e1add611-7799-425d-905f-34fe37a3970b.png\", \"https://cdn.usegalileo.ai/sdxl10/e4c438a9-2647-4d19-94fe-e818e1b7986c.png\", \"https://cdn.usegalileo.ai/sdxl10/a5edb5ef-afe0-4fad-b4d9-644e10785293.png\", \"https://cdn.usegalileo.ai/sdxl10/73991be6-aa79-4312-997b-ba19ca18e205.png\", \"https://cdn.usegalileo.ai/sdxl10/19c80903-289c-49f9-b91c-77de668e8ea0.png\", \"https://cdn.usegalileo.ai/sdxl10/f4adaa35-487e-4340-adaf-ce32e7268d5f.png\", \"https://cdn.usegalileo.ai/sdxl10/a9715646-4a5b-4421-b08e-76fe9626161b.png\", \"https://cdn.usegalileo.ai/sdxl10/05f79354-e765-449e-91bf-0e4d034cb6d4.png\"];\n    this.getMovieList = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (page, type) {\n        try {\n          const result = yield axios.get(`https://flet-nix-backend.vercel.app/api/data/movies?page=${page}&type=${type}`, {\n            headers: {\n              \"Authorization\": \"Bearer \" + _this.token\n            }\n          });\n          // Log the response to verify the data structure\n          console.log(\"Movies Data:\", result.data);\n          // Assign random images to the movies\n          _this.productList = result.data.map(movie => ({\n            ...movie,\n            imageUrl: _this.getRandomImageUrl()\n          }));\n        } catch (err) {\n          console.error(\"Error Fetching Movies\", err);\n        }\n      });\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n  ngOnInit() {\n    this.token = localStorage.getItem(\"token\");\n    this.getMovieList(this.page, \"\");\n  }\n  getRandomImageUrl() {\n    const randomIndex = Math.floor(Math.random() * this.imageUrls.length);\n    return this.imageUrls[randomIndex];\n  }\n  onCategoryChange(event) {\n    this.selectedCategory = event.target.value;\n    this.page = 1; // Reset to first page on category change\n    this.getMovieList(this.page, this.type); // Refresh movie list based on category change\n  }\n\n  changePage(newPage) {\n    if (newPage >= 1) {\n      this.page = newPage;\n      this.getMovieList(this.page, this.type);\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }\n  }\n  getPageNumbers() {\n    // Simple pagination logic - display a few page numbers around the current page\n    const pageNumbers = [];\n    for (let i = Math.max(1, this.page - 2); i <= this.page + 2; i++) {\n      pageNumbers.push(i);\n    }\n    return pageNumbers;\n  }\n  handleNavtabClick(tab) {\n    if (tab === \"all\") {\n      this.type = \"\";\n    } else if (tab === \"Movie\") {\n      this.type = \"Movie\";\n    } else {\n      this.type = \"TV Show\";\n    }\n    this.page = 1;\n    this.getMovieList(this.page, this.type);\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":"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","names":["Component","axios","HomeComponent","constructor","page","type","result","get","headers","token","console","log","data","productList","map","movie","imageUrl","getRandomImageUrl","err","error","ngOnInit","localStorage","getItem","getMovieList","randomIndex","Math","floor","random","imageUrls","length","onCategoryChange","event","selectedCategory","target","value","changePage","newPage","window","scrollTo","top","behavior","getPageNumbers","pageNumbers","i","max","push","handleNavtabClick","tab","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/jatinchouhan/Desktop/All Files/MERN_Project/FletNix/client/src/app/pages/home/home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport axios from 'axios';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  productList: any[] = [];\n  selectedCategory: string = 'Movie';\n  token: string | null = \"\";\n  page: number = 1;\n  type : string = \"\";\n\n  // Array of image URLs\n  imageUrls: string[] = [\n    \"https://cdn.usegalileo.ai/sdxl10/06b6c52a-e396-4d95-b2db-a5dc02b58334.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/b0284f49-8cec-4190-ab3b-c5cc49063775.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/e1add611-7799-425d-905f-34fe37a3970b.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/e4c438a9-2647-4d19-94fe-e818e1b7986c.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/a5edb5ef-afe0-4fad-b4d9-644e10785293.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/73991be6-aa79-4312-997b-ba19ca18e205.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/19c80903-289c-49f9-b91c-77de668e8ea0.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/f4adaa35-487e-4340-adaf-ce32e7268d5f.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/a9715646-4a5b-4421-b08e-76fe9626161b.png\",\n    \"https://cdn.usegalileo.ai/sdxl10/05f79354-e765-449e-91bf-0e4d034cb6d4.png\"\n  ];\n\n  ngOnInit() {\n    this.token = localStorage.getItem(\"token\");\n    this.getMovieList(this.page,\"\");\n  }\n\n  getMovieList = async (page: number, type : string) => {\n    try {\n      const result = await axios.get(`https://flet-nix-backend.vercel.app/api/data/movies?page=${page}&type=${type}`, {\n        headers: {\n          \"Authorization\": \"Bearer \" + this.token\n        }\n      });\n\n      // Log the response to verify the data structure\n      console.log(\"Movies Data:\", result.data);\n\n      // Assign random images to the movies\n      this.productList = result.data.map((movie: any) => ({\n        ...movie,\n        imageUrl: this.getRandomImageUrl()\n      }));\n    } catch (err) {\n      console.error(\"Error Fetching Movies\", err);\n    }\n  }\n\n  getRandomImageUrl(): string {\n    const randomIndex = Math.floor(Math.random() * this.imageUrls.length);\n    return this.imageUrls[randomIndex];\n  }\n\n  onCategoryChange(event: any) {\n    this.selectedCategory = event.target.value;\n    this.page = 1; // Reset to first page on category change\n    this.getMovieList(this.page,this.type); // Refresh movie list based on category change\n  }\n\n  changePage(newPage: number) {\n    if (newPage >= 1) {\n      this.page = newPage;\n      this.getMovieList(this.page,this.type);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  }\n\n  getPageNumbers(): number[] {\n    // Simple pagination logic - display a few page numbers around the current page\n    const pageNumbers: number[] = [];\n    for (let i = Math.max(1, this.page - 2); i <= this.page + 2; i++) {\n      pageNumbers.push(i);\n    }\n    return pageNumbers;\n  }\n\n handleNavtabClick(tab : string){\n    if(tab === \"all\"){\n      this.type= \"\";\n    }\n    else if(tab === \"Movie\"){\n      this.type = \"Movie\";\n    }\n    else {\n      this.type = \"TV Show\";\n    }\n    this.page = 1;\n    this.getMovieList(this.page,this.type);\n }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}